# 業務仕様ドキュメント

## 概要

このディレクトリには、OshiTalk（推しトーク）の業務仕様（Business Specification）が含まれています。

業務仕様は、**ビジネスの視点**から各業務の目的、ユーザーストーリー、ビジネスルールを定義する**原本ドキュメント**です。

## ドキュメント目的

- **非技術者（PO/PM/ビジネス）** でも理解できる業務定義
- **開発者** が実装すべき機能の「Why（なぜ）」と「What（何を）」を明確化
- **QA/テスター** が検証可能なビジネスルールの提供
- **ステークホルダー** との認識合わせに使用

## 業務仕様一覧

| 業務名 | ドキュメント | 概要 |
|--------|------------|------|
| オークション業務 | [auction.md](./auction.md) | Talk枠をオークション形式で販売する業務 |
| ビデオ通話業務 | [video-call.md](./video-call.md) | インフルエンサーとファンの1対1ビデオ通話を実施する業務 |
| 決済業務 | [payment.md](./payment.md) | Stripeを使用した安全な決済処理業務 |
| ユーザー管理業務 | [user-management.md](./user-management.md) | 認証、プロフィール管理、インフルエンサー管理、フォロー、ランキングなどのユーザー関連業務 |
| 用語集 | [glossary.md](./glossary.md) | ビジネス用語、技術用語、略語の定義集 |

## ドキュメント構成

各業務仕様ドキュメントは以下の構成で記載されています：

### 1. 概要
業務の目的とビジネス価値を簡潔に説明

### 2. ユーザーストーリー
```
As a [ユーザー種別],
I want to [行動],
So that [目的/ビジネス価値]
```

### 3. ビジネスルール（BR: Business Rules）
- 各ルールにID付与（BR-001, BR-002...）
- 説明：ルールの説明
- 条件：適用条件
- 結果：期待される結果

### 4. 業務フロー
状態遷移やフロー図

### 5. 制約事項
ビジネス上の制約、技術的制約

### 6. 用語定義
業務で使用する用語の定義

### 7. 変更履歴
日付、変更内容、理由、承認者を記録

## 業務仕様 vs 機能仕様

### 業務仕様（/docs/business/）
- **目的**: 「何を実現したいか（What）」を記述
- **対象読者**: PO/PM/ビジネス/QA
- **変更頻度**: 低い（ビジネス要件の変更時のみ更新）
- **原本として厳格に管理**

### 機能仕様（/docs/functional/）
- **目的**: 「どう実現するか（How）」を記述
- **対象読者**: 開発者
- **変更頻度**: 高い（実装・修正ごとに更新）
- **業務仕様から導出される**

## 開発フローとの関係

```
業務仕様（What）
    ↓ 導出
テスト仕様（検証基準）
    ↓ 導出
機能仕様（How）
    ↓ 実装
コード
```

詳細は [/docs/ai_workflow/AI_TDD_PROCESS_v3.md](../ai_workflow/AI_TDD_PROCESS_v3.md) を参照してください。

## 使い方

### 新機能開発時
1. 該当する業務仕様を確認
2. ユーザーストーリーとビジネスルールを理解
3. 機能仕様ドキュメント（`/docs/functional/`）で実装詳細を確認

### 機能変更時
1. **業務仕様の変更が必要な場合は、先に業務仕様を更新**
2. 変更履歴に記録、承認を得る
3. 機能仕様も更新

### テスト時
1. ビジネスルール（BR-xxx）をテストケースとして使用
2. すべてのルールを満たすことを確認

## 承認プロセス

業務仕様の追加・変更は以下のプロセスに従います：

1. **提案**: 業務仕様ドキュメントのドラフト作成
2. **レビュー**: PO/PMによるレビュー
3. **承認**: ステークホルダー承認
4. **実装**: 開発チームによる実装（機能仕様 → コード）
5. **検証**: QAによる受け入れテスト

## 関連ドキュメント

- [機能仕様](../functional/) - 実装詳細
- [テスト計画](../test/plans/) - テストケース
- [AI開発プロセス](../ai_workflow/AI_TDD_PROCESS_v3.md) - 開発フロー

---

**最終更新日**: 2025-01-XX

